<div class="table-container mat-elevation-z2">
  <table mat-table [dataSource]="data" matSort (matSortChange)="onSortChange($event)" class="mat-table">

    <!-- Column Headers -->
    <ng-container *ngFor="let column of columns" [matColumnDef]="column.key">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="{{ column.sortable ? column.key : '' }}">
        {{ column.label }}
      </th>
      <td mat-cell *matCellDef="let row" [ngClass]="getCellClass(row, column)">
        {{ getCellValue(row, column) }}
      </td>
    </ng-container>

    <!-- Header and Row -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
        (click)="onRowClick(row)" 
        [ngClass]="getRowClass(row)" 
        class="clickable-row">
    </tr>

  </table>

  <div *ngIf="data.length === 0" class="no-data">
    No hay datos disponibles
  </div>
</div>
